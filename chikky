<!DOCTYPE html>
<%@ taglib uri="http://www.springframework.org/tags/form" prefix="form"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt"%>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<link rel="stylesheet" href="css/pagination.css" type="text/css" />
<meta http-equiv="Content-Style-Type" content="text/css">
<script type="text/javascript"
	src=${pageContext.request.contextPath}/js/common/commonutil.js></script>
<link
	href=${pageContext.request.contextPath}/css/countryRiskOverride.css
	rel="stylesheet" type="text/css">

</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0"
	bgcolor="#FFFFFF">

	<div id="tabs"
		class="ui-tabs ui-corner-all ui-widget ui-widget-content">
		<div id="statusDivChecker" class="successMsg"
			style="text-align: center;"></div>
		<div id="errorStatus" class="failureMsg" style="text-align: center;"></div>

		<div id="greyout" style="display: none"></div>
		<div id="historyPopUp" class="tableBorder"
			style="display: none; z-index: 300; width: 60%; position: absolute; margin-left: 20%; margin-top: 5%;">
			<%@ include file="singleTouchApprovalHistory.jsp"%>
		</div>

		<table width="100%" border="0" cellspacing="0" cellpadding="4"
			class="table_title">
			<tbody>
				<tr>
					<td height="50%" width="70%">${SINGLE_TOUCH_APPROVAL.WORKFLOW_CONFIGURATION_RULES.label}</td>
				</tr>
			</tbody>
		</table>
		<input type="hidden" id="pageNo" name="pageNo"> <input
			type="hidden" id="pageCount" name="pageCount" value="${pageCount}">
		<input type="hidden" id="msgSelCheckBox" name="msgSelCheckBox"
			value="${errorMsgs.SEL_CHK_BOX}"> <input type="hidden"
			id="msgSelConf" name="msgSelConf" value="${errorMsgs.SEL_CONF}">
		<input type="hidden" id="msgFutureDate" name="msgFutureDate"
			value="${errorMsgs.ERR_FUTURE_DATE}"> <input type="hidden"
			id="msgSelClientType" name="msgSelClientType"
			value="${errorMsgs.SEL_CLIENT_TYPE}"> <input type="hidden"
			id="msgSelRiskRating" name="msgSelRiskRating"
			value="${errorMsgs.SEL_RISK_RATING}"> <input type="hidden"
			id="msgSelAutoApproval" name="msgSelAutoApproval"
			value="${errorMsgs.SEL_AUTO_APPROVAL}"> <input type="hidden"
			id="msgComments" name="msgComments" value="${errorMsgs.ERR_COMMENTS}">
		<input type="hidden" id="totalCount" name="totalCount" value="">

		<div id="tabs"
			class="ui-tabs ui-corner-all ui-widget ui-widget-content">
			<div id="statusDiv"
				style="text-align: left; color: #CC3300; font-size: 14px;"></div>
			<br />
			<div class="data" style="margin-left: 10px">Single Touch
				Approval Configuration Checker</div>

			<div id="errorDiv"
				style="text-align: left; color: #CC3300; font-size: 14px;"></div>
			<div id="commentsPopUp"
				style="display: none; z-index: 500; width: 400px; position: absolute; margin-left: 40%; margin-top: 10%;">
				<%@ include file="staCommentsPopup.jsp"%>
			</div>

			<form id="singleTouchApprovalform">
				<div align="right" style="margin-right: 1%;">
					<c:if test="${(assignFlag ne null)}">
					<a href="#" class="bbutton btn-staCheckerApprove">${COMMON.APPROVE.label}</a>&nbsp;&nbsp;
					<a href="#" id="add-row" class="bbutton btn-staCheckerReject">
						${SINGLE_TOUCH_APPROVAL.REJECT.label}</a>&nbsp;&nbsp;
						</c:if>
						 <a href="#"
						class="bbutton btn-historyStaConfig">${COMMON.HISTORY.label}</a>
					&nbsp;&nbsp; <a href="#" onClick="openPage('inbox/init')"
						class="bbutton btn-checkerCancel">Cancel</a>
				</div>
				<br>

				<table id="staMainDatatblChecker" width="98%" border="0"
					cellspacing="1" cellpadding="4" class="table_data">
					<thead>
						<tr align="center">
							<th width="10%" class="table_header">${SINGLE_TOUCH_APPROVAL.COUNTRY_CODE.label}</th>
							<th width="10%" class="table_header">${SINGLE_TOUCH_APPROVAL.CLIENT_TYPE.label}</th>
							<th width="10%" class="table_header">${SINGLE_TOUCH_APPROVAL.RISK_RATING.label}</th>
							<th width="10%" class="table_header">${SINGLE_TOUCH_APPROVAL.AUTO_APPROVAL.label}</th>
							<th width="10%" class="table_header">${SINGLE_TOUCH_APPROVAL.MODIFIED_AUTO_APPROVAL_STATUS.label}</th>
							<th width="10%" class="table_header">${SINGLE_TOUCH_APPROVAL.MODIFIED_WORKFLOW_STATUS.label}</th>
							<th width="10%" class="table_header">${SINGLE_TOUCH_APPROVAL.CREATED_BY.label}</th>
							<th width="10%" class="table_header">${SINGLE_TOUCH_APPROVAL.CREATED_DATE.label}</th>
							<th width="10%" class="table_header">${uiLabels.MODIFIED_BY.label}</th>
							<th width="10%" class="table_header">${uiLabels.MODIFIED_DT.label}</th>
							<th width="10%" style="display: none;" class="table_header">STA_ID</th>

						</tr>
					</thead>
				</table>
				<table id="accOpenTableData" width="98%" border="0" cellspacing="0"
					cellpadding="4" class="table_data">
					<tbody>
						<c:forEach var="listValue" items="${initialCheckerItems}">
							<tr>
								<c:if test="${(assignFlag ne null)}">
								<td width="10%" align="left" class="staModeTd"  tabindex="1"><input type='checkbox'  name ='singleTouchCheckerCheckBox' class = "singleTouchCheckerCheckBox">${listValue.country}</td>	
								</c:if>	
								<c:if test="${(assignFlag eq null)}">
								<td width="10%" align="center" class="staModeTd"  tabindex="1">${listValue.country}</td>	
								</c:if>
								<td width="10%" align="center" class="accRiskScore">${listValue.clientType}</td>
								<td width="10%" align="center" class="accRiskScore">${listValue.formRiskRating}</td>								
								<td width="10%" align="center" class="accRiskScore">${listValue.autoApproval}</td>
								<td width="10%" align="center" class="accRiskScore">${listValue.modifiedApproval}</td>
								<td width="10%" align="center" id="accModifiedWs">${listValue.authStatus}</td>
								<td width="10%" align="center" id="rs" class="staCreateId">${listValue.createdBy}</td>
								<td width="10%" align="center" id="rs"
									class="staLastUpdatedDate">${listValue.createdDt}</td>
								<td width="10%" align="center" id="rs" class="staLastUpdatedId">${listValue.modifiedBy}</td>
								<td width="10%" align="center" id="rs"
									class="staLastUpdatedDate">${listValue.modifiedDt}</td>
								<td width="10%" style="display: none;" align="center" id="rs"
									class="staLastUpdatedDate">${listValue.sing_touch_id}</td>
							</tr>
						</c:forEach>
					</tbody>
				</table>
				<br> <br>
			</form>
			<div align="center" id="commentsBox"></div>
</body>
</html>

